import{k as j,l as H,r as m,m as L,a as q,q as X,o as f,b as _,u,e as o,F as M,s as T,t as Y,v as w,x as A,y as O,z as N,A as z,p as K,j as $,h as J}from"./entry.2f83dd3c.js";class S{constructor(...t){this.components=t}add(t){return this.components=this.components.map((e,s)=>e+t.components[s]),this}sub(t){return this.components=this.components.map((e,s)=>e-t.components[s]),this}div(t){return this.components=this.components.map((e,s)=>e/t.components[s]),this}scale(t){return this.components=this.components.map(e=>e*t),this}multiply(t){return this.components=this.components.map((e,s)=>e*t.components[s]),this}rotateXY(t){const e=this.components[0]*Math.cos(t)-this.components[1]*Math.sin(t),s=this.components[0]*Math.sin(t)+this.components[1]*Math.cos(t);this.components[0]=e,this.components[1]=s}}const g={uniform:(n,t)=>Math.random()*(t-n)+n};class tt{constructor({color:t,space:e}){this.positionRadius={unscaled:s=>g.uniform(0,this.space.height),space:s=>g.uniform(this.space.height/s,this.space.height)*s,tunnel:s=>g.uniform(this.space.height/4,this.space.height/3)*s},this.starStyle={square:{sizeRatio:.2,draw:s=>{s.fillStyle=this.color,s.beginPath(),s.rect(this.screenPos.components[0],this.screenPos.components[1],this.size,this.size),s.closePath(),s.fill()}},circle:{sizeRatio:.4,draw:s=>{s.fillStyle=this.color,s.beginPath(),s.arc(this.screenPos.components[0],this.screenPos.components[1],this.size,0,2*Math.PI,!1),s.closePath(),s.fill()}},circleGradient:{sizeRatio:g.uniform(.09,.2),draw:s=>{const l=s.createRadialGradient(this.screenPos.components[0],this.screenPos.components[1],this.size*.15,this.screenPos.components[0],this.screenPos.components[1],this.size);l.addColorStop(0,this.color),l.addColorStop(1,"transparent"),s.fillStyle=l,s.beginPath(),s.arc(this.screenPos.components[0],this.screenPos.components[1],this.size,0,2*Math.PI,!1),s.closePath(),s.fill()}}},this.color=t,this.space=e,this.pos=this.getPosition(),this.screenPos=new S(0,0),this.vel=g.uniform(this.space.vel[0],this.space.vel[1])}getPosition(t=35){const e=g.uniform(0,2*Math.PI),s=this.positionRadius[this.space.positionRadius](t),l=Math.cos(e)*s,c=Math.sin(e)*s;return new S(l,c,this.space.Z)}update(){this.pos.components[2]-=this.vel,this.pos=this.pos.components[2]<1?this.getPosition():this.pos,this.screenPos=new S(this.pos.components[0],this.pos.components[1]).div(new S(this.pos.components[2],this.pos.components[2])).add(this.space.CENTER),this.size=this.space.positionRadius==="unscaled"?this.space.Z/this.pos.components[2]:(this.space.Z-this.pos.components[2])/(this.pos.components[2]*this.starStyle[this.space.starStyle].sizeRatio),this.pos.rotateXY(.003)}draw(t){this.space.addAlpha&&(t.globalAlpha=this.size/this.space.Z),this.starStyle[this.space.starStyle].draw(t)}}class st{setCanvas(t){this.ctx=t.getContext("2d"),this.width=t.width,this.height=t.height,this.CENTER=new S(this.width/2,this.height/2)}setAttributes({stars:t,colors:e,Z:s,positionRadius:l,starStyle:c,vel:r,addAlpha:p}){this.Z=s,this.positionRadius=l,this.starStyle=c,this.colors=e,this.vel=r,this.addAlpha=p,this.stars=new Array(t).fill(null).map(()=>new tt({color:this.randomColor(),space:this}))}randomColor(){return this.colors[Math.floor(Math.random()*this.colors.length)]}update(){this.stars.forEach(t=>t.update())}draw(){this.stars.forEach(t=>t.draw(this.ctx))}run(){this.update(),this.stars.sort((t,e)=>e.pos.components[2]-t.pos.components[2]),this.draw()}clear(){this.ctx.clearRect(0,0,this.width,this.height)}}var V;const F=typeof window<"u";F&&((V=window==null?void 0:window.navigator)!=null&&V.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function et(n){return n}function nt(n){return j()?(H(n),!0):!1}const ot=F?window:void 0;F&&window.document;F&&window.navigator;F&&window.location;const B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z="__vueuse_ssr_handlers__";B[Z]=B[Z]||{};B[Z];function it(n,t={}){const{immediate:e=!0,window:s=ot}=t,l=m(!1);let c=0,r=null;function p(d){if(!l.value||!s)return;const I=d-c;n({delta:I,timestamp:d}),c=d,r=s.requestAnimationFrame(p)}function h(){!l.value&&s&&(l.value=!0,r=s.requestAnimationFrame(p))}function P(){l.value=!1,r!=null&&s&&(s.cancelAnimationFrame(r),r=null)}return e&&h(),nt(P),{isActive:L(l),pause:P,resume:h}}var Q;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(Q||(Q={}));var at=Object.defineProperty,U=Object.getOwnPropertySymbols,lt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,D=(n,t,e)=>t in n?at(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,ut=(n,t)=>{for(var e in t||(t={}))lt.call(t,e)&&D(n,e,t[e]);if(U)for(var e of U(t))rt.call(t,e)&&D(n,e,t[e]);return n};const ct={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ut({linear:et},ct);const v=n=>(K("data-v-4e1c8751"),n=n(),$(),n),pt={class:"the-canvas"},ht={class:"controls"},dt={open:""},mt=v(()=>o("summary",null,"Presets",-1)),vt=["value"],ft=v(()=>o("summary",null,"Advanced Settings",-1)),_t=["onSubmit"],yt=v(()=>o("label",null,"Z:",-1)),wt=v(()=>o("label",null,"Stars:",-1)),gt=v(()=>o("label",null,"Position Radius:",-1)),Pt=["value"],bt=v(()=>o("label",null,"Star Style:",-1)),St=["value"],Ft=v(()=>o("label",null,"Vel:",-1)),Ct={class:"grid"},At=v(()=>o("button",{type:"submit"},"Update",-1)),Ot={__name:"TheCanvas",setup(n){const t=["unscaled","space","tunnel"],e=["square","circle","circleGradient"],s=[{name:"Floating",positionRadius:t[1],starStyle:e[2],Z:35,stars:1500,vel:[.05,.25],addAlpha:!0},{name:"Tunnel",positionRadius:t[2],starStyle:e[0],Z:140,stars:1500,vel:[.45,.95],addAlpha:!1},{name:"From Center",positionRadius:t[0],starStyle:e[1],Z:15,stars:500,vel:[.1,.15],addAlpha:!0}],l=m(s[0].positionRadius),c=m(s[0].starStyle),r=m(s[0].Z),p=m(s[0].stars),h=m(s[0].vel),P=m(s[0].addAlpha),d=m(null),I=["#FF7900","#F94E5D","#CA4B8C","#835698","#445582","#2F4858","#845EC2","#D65DB1","#FF6F91","#FF9671","#FFC75F","#F9F871","#F24B8E","#F6ACC2","#FFE3F1","#59BAB7","#1FAAFE","#00C6FF","#00DCE4","#10ECB8","#A0F68B","#F9F871"],b=new st,{pause:k,resume:R,isActive:x}=it(()=>{b&&(b.clear(),b.run())});function E(){b.setAttributes({stars:p.value,colors:I,Z:r.value,positionRadius:l.value,starStyle:c.value,vel:h.value,addAlpha:P.value})}function G(){E(),R()}function W(C){const i=s[C.target.value];l.value=i.positionRadius,c.value=i.starStyle,r.value=i.Z,p.value=i.stars,h.value=i.vel,P.value=i.addAlpha,E()}return X(()=>{const{clientWidth:C,clientHeight:i}=d.value;d.value.width=C,d.value.height=i,b.setCanvas(d.value),E()}),(C,i)=>(f(),_("div",pt,[u(x)?(f(),_("button",{key:0,type:"button",onClick:i[0]||(i[0]=(...a)=>u(k)&&u(k)(...a)),class:"play-pause-button"},"⏸️ Pause")):(f(),_("button",{key:1,type:"button",onClick:i[1]||(i[1]=(...a)=>u(R)&&u(R)(...a)),class:"play-pause-button"},"▶️ Play")),o("div",ht,[o("details",dt,[mt,o("select",{onChange:W},[(f(),_(M,null,T(s,(a,y)=>o("option",{key:y,value:y},z(a.name),9,vt)),64))],32)]),o("details",null,[ft,o("form",{onSubmit:Y(G,["prevent"])},[o("div",null,[yt,w(o("input",{type:"number","onUpdate:modelValue":i[2]||(i[2]=a=>O(r)?r.value=a:null)},null,512),[[A,u(r)]])]),o("div",null,[wt,w(o("input",{type:"number","onUpdate:modelValue":i[3]||(i[3]=a=>O(p)?p.value=a:null)},null,512),[[A,u(p)]])]),o("div",null,[gt,w(o("select",{"onUpdate:modelValue":i[4]||(i[4]=a=>O(l)?l.value=a:null)},[(f(),_(M,null,T(t,(a,y)=>o("option",{key:y,value:a},z(a),9,Pt)),64))],512),[[N,u(l)]])]),o("div",null,[bt,w(o("select",{"onUpdate:modelValue":i[5]||(i[5]=a=>O(c)?c.value=a:null)},[(f(),_(M,null,T(e,(a,y)=>o("option",{key:y,value:a},z(a),9,St)),64))],512),[[N,u(c)]])]),o("div",null,[Ft,o("div",Ct,[w(o("input",{type:"number","onUpdate:modelValue":i[6]||(i[6]=a=>u(h)[0]=a),step:"0.01",min:"0",max:"1"},null,512),[[A,u(h)[0]]]),w(o("input",{type:"number","onUpdate:modelValue":i[7]||(i[7]=a=>u(h)[1]=a),step:"0.01",min:"0",max:"1"},null,512),[[A,u(h)[1]]])])]),At],40,_t)])]),o("canvas",{ref_key:"canvas",ref:d},null,512)]))}},It=q(Ot,[["__scopeId","data-v-4e1c8751"]]),Rt={};function Et(n,t){const e=It;return f(),_("div",null,[J(e)])}const Tt=q(Rt,[["render",Et]]);export{Tt as default};
